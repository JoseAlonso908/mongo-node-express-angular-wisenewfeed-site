<div class="on-your-mind" ng-class="{loading: loading}">
	<avatar user="user"></avatar>

	<div placeholder="What's on your mind?" ng-disabled="loading" ng-class="{'not-empty': text}" ng-keyup="autocomplete($event)" contenteditable ng-model="text"></div>
	<!-- <textarea placeholder="What's on your mind?" ng-disabled="loading" ng-class="{'not-empty': text}" ng-model="text"></textarea> -->
	<button class="more small-icon" ng-if="user" title="More" ng-click="$event.stopImmediatePropagation();post.menu = true"><i class="material-icons">more_vert</i></button>

	<button ng-if="post.author.isFollowing === false && post.author._id != user._id && user && user.role != 'User'" ng-click="follow(post)" class="add small-icon" title="Follow"><i class="material-icons">person_add</i></button>

	<div class="post-menu" ng-class="{active: post.menu}">
		<a href="javascript:void(0);" ng-if="post.author._id == user._id" ng-click="setEditingMode(post, true)">Edit</a>
		<a href="javascript:void(0);" ng-if="post.author._id == user._id" ng-click="removePost(post)">Remove</a>
		<a href="javascript:void(0);" ng-click="hide(post)" ng-if="post.author._id != user._id">Hide this post</a>
		<a href="javascript:void(0);" ng-click="unfollow(post)" ng-if="post.author._id != user._id && post.author.isFollowing">Unfollow this expert</a>
		<a href="javascript:void(0);" ng-click="mute(post.author)" ng-if="post.author._id != user._id">Mute</a>
		<a href="javascript:void(0);" ng-click="report(post)" ng-if="post.author._id != user._id">Report</a>
		<a href="javascript:void(0);" ng-click="block(post.author)" ng-if="post.author._id != user._id">Block</a>
	</div>
	<button class="send" ng-click="create()" ng-disabled="loading">
		<div>
			<i class="material-icons">send</i>
			<div class="title">Send</div>
		</div>
	</button>
	<button class="upload-image-1" ng-if="files.length < 5" ng-click="addImage()" ng-disabled="loading"><i class="material-icons">camera_alt</i></button>
	<button class="upload-image-2" ng-if="files.length < 5" ng-click="addImage()" ng-disabled="loading"><i class="material-icons">camera_alt</i></button>

	<form><input type="file" name="file" accept="image/*" class="hidden-file-input"></form>

	<div class="clear"></div>

	<a ng-href="#!/write" class="write" ng-if="user && user.role != 'User'">Write a Post</a>

	<div class="upload-files" ng-show="files.length > 0">
		<div class="file" ng-repeat="file in files" style="background-image: url({{file.base64}})">
			<a href="javascript:void(0);" class="remove" ng-click="removeUpload($index)"><i class="material-icons">close</i></a>
		</div>
		<div class="clear"></div>
	</div>

	<div class="clear"></div>
</div>
